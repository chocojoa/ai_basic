# ================================================================
# ğŸ”’ ë³´ì•ˆ ì„¤ì • ìƒ˜í”Œ íŒŒì¼ (application-secret.yml.sample)
# ================================================================
# 
# ì´ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ application-secret.ymlë¡œ ì´ë¦„ì„ ë³€ê²½í•˜ê³ 
# ì‹¤ì œ í™˜ê²½ì— ë§ëŠ” ê°’ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”.
#
# âš ï¸  ì£¼ì˜ì‚¬í•­:
# - application-secret.yml íŒŒì¼ì€ .gitignoreì— í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤
# - ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” í™˜ê²½ ë³€ìˆ˜ë‚˜ ì™¸ë¶€ ì„¤ì •ì„ ì‚¬ìš©í•˜ì„¸ìš”
# - ëª¨ë“  ë³´ì•ˆ ê´€ë ¨ ì •ë³´ëŠ” ì´ íŒŒì¼ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤
# ================================================================

# ================================================================
# ğŸ—„ï¸  ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
# ================================================================
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/your_database_name?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=UTF-8
    username: ${DB_USERNAME:your_db_username}
    password: ${DB_PASSWORD:your_db_password}
    driver-class-name: com.mysql.cj.jdbc.Driver
    
    # HikariCP ì—°ê²° í’€ ì„¤ì •
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      idle-timeout: 300000
      max-lifetime: 1200000
      connection-timeout: 20000
      validation-timeout: 3000
      leak-detection-threshold: 60000
      pool-name: HikariPool-BasicProject

# ================================================================
# ğŸ” JWT ë³´ì•ˆ ì„¤ì •
# ================================================================
jwt:
  # Base64ë¡œ ì¸ì½”ë”©ëœ ë¹„ë°€í‚¤ (ìµœì†Œ 256ë¹„íŠ¸ ê¶Œì¥)
  # ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” ë” ë³µì¡í•˜ê³  ì•ˆì „í•œ í‚¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”
  secret: ${JWT_SECRET:dGhpc0lzQVNhbXBsZVNlY3JldEtleUZvckpXVFRva2VuR2VuZXJhdGlvblBsZWFzZUNoYW5nZUl0SW5Qcm9kdWN0aW9u}
  
  # í† í° ë§Œë£Œ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)
  token-validity-in-seconds: ${JWT_TOKEN_VALIDITY:3600}  # 1ì‹œê°„
  
  # ë¦¬í”„ë ˆì‹œ í† í° ë§Œë£Œ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)  
  refresh-token-validity-in-seconds: ${JWT_REFRESH_TOKEN_VALIDITY:604800}  # 7ì¼
  
  # í† í° ë°œí–‰ì
  issuer: ${JWT_ISSUER:your-app-name}

# ================================================================
# ğŸ“§ ì´ë©”ì¼ ì„¤ì • (ì„ íƒì‚¬í•­)
# ================================================================
spring:
  mail:
    host: ${MAIL_HOST:smtp.gmail.com}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:your-email@gmail.com}
    password: ${MAIL_PASSWORD:your-app-password}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
        transport:
          protocol: smtp

# ================================================================
# ğŸ“Š ì•¡ì¶”ì—ì´í„° ë³´ì•ˆ ì„¤ì •
# ================================================================
management:
  endpoints:
    web:
      exposure:
        # ìš´ì˜ í™˜ê²½ì—ì„œëŠ” í•„ìš”í•œ ì—”ë“œí¬ì¸íŠ¸ë§Œ ë…¸ì¶œ
        include: ${ACTUATOR_ENDPOINTS:health,info,metrics}
      base-path: /actuator
    jmx:
      exposure:
        exclude: "*"
  
  endpoint:
    health:
      show-details: ${ACTUATOR_HEALTH_DETAILS:when-authorized}
      show-components: ${ACTUATOR_HEALTH_COMPONENTS:when-authorized}
    
  # ì•¡ì¶”ì—ì´í„° ë³´ì•ˆ
  security:
    enabled: true
    roles: ${ACTUATOR_ROLES:ADMIN}

# ================================================================
# ğŸ”’ CORS ì„¤ì •
# ================================================================
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}
  allowed-methods: ${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS,PATCH}
  allowed-headers: ${CORS_ALLOWED_HEADERS:*}
  allow-credentials: ${CORS_ALLOW_CREDENTIALS:true}
  max-age: ${CORS_MAX_AGE:3600}

# ================================================================
# ğŸ“ ë¡œê¹… ì„¤ì •
# ================================================================
logging:
  level:
    # ë£¨íŠ¸ ë¡œê¹… ë ˆë²¨
    root: ${LOG_LEVEL_ROOT:INFO}
    
    # ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê¹… ë ˆë²¨
    com.your.project: ${LOG_LEVEL_APP:DEBUG}
    
    # Spring Security ë¡œê¹… (ê°œë°œ ì‹œì—ë§Œ DEBUG)
    org.springframework.security: ${LOG_LEVEL_SECURITY:INFO}
    
    # SQL ë¡œê¹… (ê°œë°œ ì‹œì—ë§Œ)
    org.springframework.jdbc: ${LOG_LEVEL_SQL:INFO}
    
    # MyBatis ë¡œê¹…
    com.your.project.mapper: ${LOG_LEVEL_MAPPER:DEBUG}
  
  # ë¡œê·¸ íŒŒì¼ ì„¤ì •
  file:
    name: ${LOG_FILE_NAME:logs/application.log}
    max-size: ${LOG_FILE_MAX_SIZE:100MB}
    max-history: ${LOG_FILE_MAX_HISTORY:30}

# ================================================================
# ğŸŒ ë‹¤êµ­ì–´ ì„¤ì • (ì„ íƒì‚¬í•­)
# ================================================================
spring:
  messages:
    basename: ${MESSAGES_BASENAME:messages}
    encoding: ${MESSAGES_ENCODING:UTF-8}
    cache-duration: ${MESSAGES_CACHE_DURATION:3600}

# ================================================================
# ğŸ”§ ì• í”Œë¦¬ì¼€ì´ì…˜ íŠ¹ì • ì„¤ì •
# ================================================================
app:
  # íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
  file:
    upload-dir: ${FILE_UPLOAD_DIR:./uploads}
    max-file-size: ${FILE_MAX_SIZE:10MB}
    allowed-extensions: ${FILE_ALLOWED_EXTENSIONS:jpg,jpeg,png,gif,pdf,doc,docx}
  
  # ë³´ì•ˆ ì •ì±…
  security:
    # ë¹„ë°€ë²ˆí˜¸ ì •ì±…
    password:
      min-length: ${PASSWORD_MIN_LENGTH:8}
      require-uppercase: ${PASSWORD_REQUIRE_UPPERCASE:true}
      require-lowercase: ${PASSWORD_REQUIRE_LOWERCASE:true}
      require-digit: ${PASSWORD_REQUIRE_DIGIT:true}
      require-special: ${PASSWORD_REQUIRE_SPECIAL:true}
    
    # ë¡œê·¸ì¸ ì‹œë„ ì œí•œ
    login:
      max-attempts: ${LOGIN_MAX_ATTEMPTS:5}
      lockout-duration: ${LOGIN_LOCKOUT_DURATION:300}  # 5ë¶„
  
  # ìºì‹œ ì„¤ì •
  cache:
    default-ttl: ${CACHE_DEFAULT_TTL:3600}  # 1ì‹œê°„
    max-size: ${CACHE_MAX_SIZE:1000}

# ================================================================
# ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ë©”íŠ¸ë¦­ ì„¤ì •
# ================================================================
monitoring:
  # ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì„¤ì •
  metrics:
    enabled: ${METRICS_ENABLED:true}
    include-packages: ${METRICS_PACKAGES:com.your.project}
  
  # ì•Œë¦¼ ì„¤ì • (ì„ íƒì‚¬í•­)
  alerts:
    enabled: ${ALERTS_ENABLED:false}
    webhook-url: ${ALERTS_WEBHOOK_URL:}
    error-threshold: ${ALERTS_ERROR_THRESHOLD:10}

# ================================================================
# ğŸ”„ Redis ì„¤ì • (ìºì‹œ ì‚¬ìš© ì‹œ)
# ================================================================
spring:
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}
    timeout: ${REDIS_TIMEOUT:2000ms}
    lettuce:
      pool:
        max-active: ${REDIS_POOL_MAX_ACTIVE:8}
        max-idle: ${REDIS_POOL_MAX_IDLE:8}
        min-idle: ${REDIS_POOL_MIN_IDLE:0}

# ================================================================
# ğŸ§ª í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
# ================================================================
---
spring:
  config:
    activate:
      on-profile: test

  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password: 
    driver-class-name: org.h2.Driver
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    
logging:
  level:
    com.your.project: DEBUG
    org.springframework.security: DEBUG

# ================================================================
# ğŸš€ ìš´ì˜ í™˜ê²½ ì„¤ì • 
# ================================================================
---
spring:
  config:
    activate:
      on-profile: prod

logging:
  level:
    root: WARN
    com.your.project: INFO
    org.springframework.security: WARN

management:
  endpoints:
    web:
      exposure:
        include: health,info

# ================================================================
# ğŸ“ ì„¤ì • ê°€ì´ë“œ
# ================================================================
# 
# 1. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •:
#    - url: ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ URLë¡œ ë³€ê²½
#    - username/password: ì‹¤ì œ DB ê³„ì • ì •ë³´ë¡œ ë³€ê²½
# 
# 2. JWT ì„¤ì •:
#    - secret: ì•ˆì „í•œ ë¹„ë°€í‚¤ë¡œ ë³€ê²½ (256ë¹„íŠ¸ ì´ìƒ ê¶Œì¥)
#    - í† í° ë§Œë£Œ ì‹œê°„ì„ í™˜ê²½ì— ë§ê²Œ ì¡°ì •
#
# 3. ì´ë©”ì¼ ì„¤ì •:
#    - ì‹¤ì œ SMTP ì„œë²„ ì •ë³´ë¡œ ë³€ê²½
#    - Gmail ì‚¬ìš© ì‹œ ì•± ë¹„ë°€ë²ˆí˜¸ í•„ìš”
#
# 4. í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ì˜ˆì‹œ:
#    export DB_USERNAME=your_real_username
#    export DB_PASSWORD=your_real_password
#    export JWT_SECRET=your_real_jwt_secret
#
# 5. Docker í™˜ê²½ì—ì„œ ì‚¬ìš© ì‹œ:
#    environment:
#      - DB_USERNAME=your_real_username
#      - DB_PASSWORD=your_real_password
#
# ================================================================